<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN">
	<HTML>

	<HEAD>
		<TITLE> 记录滚动条位置 </TITLE>
		<script language="javascript">
			//多个onload事件同时触发
			window.onload = function() {
					fnLoad();
				}
				//在关闭和刷新浏览器触发    
			window.onunload = fnUnload;

			function fnLoad() {
				var arr;
				if(arr = document.cookie.match(/scrollTop=([^;]+)(;|$)/))
				//arr[0] scrollTop=200;        
				//arr[1] 200        
					alert(arr[1]);
				document.documentElement.scrollTop = parseInt(arr[1]);
				//alert(document.documentElement.scrollTop);       
				document.body.scrollTop = parseInt(arr[1]);
			}
			//页面刷新前保存滚动条位置信息到cookie    
			function fnUnload() {
				var scrollPos;
				if(typeof window.pageYOffset != 'undefined') {
					scrollPos = window.pageYOffset;
				} else if(typeof document.compatMode != 'undefined' && document.compatMode != 'BackCompat') {
					scrollPos = document.documentElement.scrollTop;
				} else if(typeof document.body != 'undefined') {
					scrollPos = document.body.scrollTop;
				}
				document.cookie = "scrollTop=" + scrollPos;
			}
		</script>
	</HEAD>

	<BODY>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>dd
		<p></p>
	</BODY>

	</HTML>